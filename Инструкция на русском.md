Бот позволяет в основном чате использовать команды


# Что такое прогрессивный мут?

Прогрессивный мут это система для лишение права написать сообщения с возрастающим сроком. Стандартная санкция - выдача запрета на отправку любых сообщений на заданный срок. Для человека ранее не подвергавшемуся  стандартной санкции срок составит 1 день. Для человека ранее подвершавшегося, срок составляет удвоенный последний срок.
Так он может получить сначала 1 день. потом 2, 4, 8, 16, 32, 64, 128 и так далее.

Для простоты модерации, если срок стандартной санкции истекает не в полночь, то он продлевается до полуночи по GMT+0. Так если стандартная санкция применяется в 18:00 ПН, то с учётом данного пункта пользователь будет лишен права отправки сообщений на остаток ПН и целый день ВТ. И только в полночь, с наступлением СР он вернёт своё право на отправку сообщений.

Если по какой-то причине участник должен быть подвергнут более 1 раза стандартной санкции, то санкция не имеет кумулятивный эффект, но выбирается максимальный срок. Так если участник чата сначала разместил порнографию, а после этого оскорбил другого участника, то это два эпизода. Допустим, что участник первый раз подвергается стандартной санкции. Тогда за порнографию (пункт 1) он должен получить срок сутки, а за оскорбление двое суток. И в такой ситуации бот не суммирует сроки (не лишает права писать сообщение на трое (1+2) суток, а берёт наибольший - двое суток).

Модератор выдаёт /ban на эти эпизоды независимо (это могут быть разные модераторы).
### Философия прогрессивного мута
Данный бот позволяет быть щадящим к нарушителям, которые совершают нарушение в первый раз, но жестким по отношению к нарушителям, который многократно нарушили.
Модераторам не приходится задумываться и добавлять срок вручную, изучая историю рецедивиста.

Таким образом, модератор может достаточно быстро просматривать историю сообщений в чате и выносить приговоры, а уже сроки будет назначать данный бот. Так что для рецедивиста срок может быть достаточно большим.

## Апелляции
Бот имеет возможность принятия апелляций, если пользователь считает, что апелляция была выдана несправедливо. Для этого пользователь должен написать текст апелляции в бота. Бот примет апелляцию, если:
1. Пользователь записан в базе данных как нарушитель
2. Последний срок в базе данных не нулевой (иначе он полностью реабилитирован и нечего обжаловать)
3. Время последнего нарушения было менее 72 часов назад.
Если бот принял апелляцию, то он публикует сообщение пользователя в канале для апелляций. В данном канале есть обсуждение, где можно дать одобрение.

Чтобы бот принял одобрение, необходимо:
1. Быть администратором модерируемого чата.
2. Не быть тем, кто подал апелляцию.
3. Не быть тем, чей бан вызвал подачу апелляции.
4. Не быть тем, чьё одобрение ранее принималось для этой апелляции.

После того, как бот примет 3 одобрения, он посчитает апелляцию одобренной полностью. В таком случае, необходимо последнему из администраторов выполнить требования апелляции. В общем случае, это сходить и снять стандартную санкцию (или несколько).

Снятие санкций принципиально не автоматизировано, чтобы апелляционная комиссия могла соориентироваться по ситуации.
# Имеющиеся команды
## команда /ban

Используется для выдачи прогрессивного мута. Для применения команды, необходимо сделать реплай на сообщение нарушителя и начать своё сообщение с "/ban". 

Нарушитель лишается возможности писать сообщения на выставленным ботом срок. Вам не требуется его после этого разбанивать.

Команда не применима к администраторам.

## Команда /unban 
Для применения команды, необходимо сделать реплай на сообщение подлежащего реабилитации и начать своё сообщение с "/unban". 

Бот вернёт человеку право голоса, а так же в 2 раза снизит срок последнего мута. Так к примеру, если кто-то получил мут на 4 дня, то данная команда аннулирует его срок и даст ему право голоса. В базе данных его последний срок будет указан как 2 дня. Так что в следующий раз, когда он совершит нарушение, ему дадут 4 дня, а не 8.

Эта команда не ограничена временем мута. Так что прийти к решению о несправедливости вынесения наказания можно и на 8ой день, когда срок наказания закончился. Тогда право написания сообщений возвращать пользователю не придётся, но бот всё равно снизит в два раза срок.

Команда может быть применена многократно. К примеру, если пользователь получил 3 несправедливых мута, то тройная реабилитация откатит их.

Если последний срок составляет 1 день, то вместо 0.5 дней, бот установит его на 0, так будто нарушений ранее не было.

## Команда /warn
Для применения команды, необходимо сделать реплай на сообщение подлежащего предупреждения и начать своё сообщение с "/warn". 

Бот отметит себе, что данный пользователь получил предупреждение. Если пользователь получает третье предупреждение, то он получит стандартную санкцию, как если бы мы написали /ban, а так же счётчик его предупреждений сбросится до 0.

Так же если с последнего предупреждения проходит 7 дней, то они обнуляются. И в следующий раз предупреждения начнутся с первого.


## Команда /approve

Команда применяется только при одобрении апелляции в канале с апелляциями в комментарии к апелляциии.  Она используется для выдачи одобрения администратора на данную апелляцию.

Бот в ответ напишет, принимает ли он апелляцию.

# Общие рекомендации

1. При применении стандартной санкциии или прудпреждения указывайте правило, согласно которому человек был подвергнуть ей.
2. Участник не может быть подвергнут стандартной санкции со стороны модераторов за одно и тоже нарушение дважды.
3. Участник не может быть подвергнут стандартной санкции со стороны модераторов по одному и тому же пункту более раза в сутки (по GMT+0). То есть даже если пользователь написал 5 сообщений, содержащих оскорбления, то это считается за один эпизод нарушения правил, что  он должен быть подвергнут 1 стандартной санкции.
4. Правила не имеют обратной силы. Они не могут быть применены к сообщениям, написанным до их введения.
5. Если некоторое нарушение правил остаётся незамеченным модераторами в течении семи дней, то санкция не применяется.То есть модератор не может накопить множество сообщений с оскорблениями за 2 месяца, а потом выдать срок за все такие сообщения в пару лет.


